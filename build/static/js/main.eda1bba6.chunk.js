(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{107:function(e,t,n){},124:function(e,t,n){},142:function(e,t,n){},164:function(e,t,n){"use strict";n.r(t);var a=n(6),r=n(0),o=n.n(r),c=n(11),i=n.n(c),s=(n(107),n(24)),u=n.n(s),l=n(39),h=n(15),f=n(34),b=(n(16),n(8)),j=n(28),d=n(90),p=n.n(d),g=n(193),O=n(207),m=n(165),y=n(199),x=(n(203),n(204),n(200)),v=n(205),w=n(7),k=n.n(w);n(75),n(121);k.a.initializeApp({apiKey:"AIzaSyCXAdv914Vfg6jGthICOGNAa7_lLp8Hsl0",authDomain:"near-insight.firebaseapp.com",databaseURL:"https://near-insight.firebaseio.com",projectId:"near-insight",storageBucket:"near-insight.appspot.com",messagingSenderId:"370297661080",appId:"1:370297661080:web:bae687f9b0dd41b71fd2ed",measurementId:"G-7LGD85VY05"});var I=k.a.auth();console.info("production"),"localhost"===window.location.hostname&&I.useEmulator("http://localhost:9099/");var S=k.a,A=n(196),T=n(198),W=n(195),z=n(206),R=[{_id:1,quote:"\u201cNot all those who wander are lost.\u201d",cite:"J.R.R. Tolkien, The Fellowship of the Ring"},{_id:2,quote:"\u201cThe world is a book and those who do not travel read only one page.\u201d",cite:"St. Augustine"},{_id:3,quote:"\u201cWhy do you go away? So that you can come back. So that you can see the place you came from with new eyes and extra colors. And the people there see you differently, too. Coming back to where you started is not the same as never leaving.\u201d",cite:"Terry Pratchett, A Hat Full of Sky"}],N=(n(124),Object(g.a)((function(e){return Object(O.a)({root:{}})})));function U(){var e=Object(r.useState)(0),t=Object(j.a)(e,2),n=t[0],o=t[1],c=N();function i(){o(n===R.length-1?0:function(e){return e+1})}return Object(r.useEffect)((function(){var e=setTimeout(i,1e4);return function(){return clearTimeout(e)}})),Object(a.jsx)(W.a,{children:Object(a.jsx)(z.a,{timeout:2e3,classNames:"fade",children:Object(a.jsx)(A.a,{className:c.root,children:Object(a.jsx)(T.a,{children:Object(a.jsxs)("figure",{children:[Object(a.jsx)("blockquote",{children:Object(a.jsx)(y.a,{children:R[n].quote})}),Object(a.jsxs)("figcaption",{children:["\u2014 ",Object(a.jsx)("cite",{children:R[n].cite})]})]})})})},R[n]._id)})}var C=n(35),D=n(64),F=n.n(D),B=Object(C.b)("users/signIn",function(){var e=Object(l.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0="Bearer ",e.next=3,t.getIdToken();case 3:return e.t1=e.sent,e.t2=e.t0.concat.call(e.t0,e.t1),F.a.defaults.headers.common={Authorization:e.t2},e.t3=console,e.next=9,t.getIdToken();case 9:e.t4=e.sent,e.t3.log.call(e.t3,e.t4),"http://localhost:5001/near-insight/us-central1/api/user/create",F.a.post("http://localhost:5001/near-insight/us-central1/api/user/create",{userAuth:t}).then((function(e){console.log(e,"then");var n=e;return Object(b.a)({token:t.getIdToken()},n.data)})).catch((function(e){return console.error(e)}));case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),E=(Object(g.a)((function(e){return Object(O.a)({root:{"& > *":{margin:e.spacing(1),width:"25ch"},display:"flex",flexDirection:"column"}})})),Object(g.a)((function(e){return Object(O.a)({root:{height:"100vh"},left:{width:"40%"}})}))),_=Object(g.a)((function(e){return Object(O.a)({root:{maxWidth:400},name:{},form:{display:"flex",flexDirection:"column",padding:40,paddingTop:10,paddingBottom:0}})}));function P(){var e=(Object(h.h)().state||{from:{pathname:"/"}}).from,t=Object(h.g)(),n=Object(f.b)();console.log(e);var r={signInFlow:"popup",callbacks:{signInSuccessWithAuthResult:function(a,r){var o=a.user;a.credential,a.operationType;return n(B(o)),console.log(a),t.replace(e.pathname),!1},signInFailure:function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("login fail",t),e.abrupt("return",new Promise((function(){console.log("res")})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),uiShown:function(){}},signInSuccessUrl:"/signedIn",signInOptions:[S.auth.GoogleAuthProvider.PROVIDER_ID,S.auth.EmailAuthProvider.PROVIDER_ID]},o=_();return Object(a.jsxs)(m.a,{variant:"outlined",className:o.root,children:[Object(a.jsx)(y.a,{className:o.name,children:"NearInsight"}),Object(a.jsx)("div",{className:o.form,children:Object(a.jsx)(p.a,{uiConfig:r,firebaseAuth:I})})]})}function q(){var e=E();return Object(a.jsxs)(x.a,{spacing:3,container:!0,justify:"space-around",className:e.root,children:[Object(a.jsx)(v.a,{xsDown:!0,children:Object(a.jsx)(x.a,{item:!0,container:!0,md:6,className:e.left,alignItems:"center",justify:"center",children:Object(a.jsx)(U,{})})}),Object(a.jsx)(x.a,{item:!0,md:6,xs:!0,alignItems:"center",justify:"center",container:!0,children:Object(a.jsx)(P,{})})]})}var G=n(2),L=Object(C.c)({name:"user",initialState:{currentUser:null,error:null},reducers:{setCurrentUser:function(e,t){e.currentUser=t.payload},signInSuccess:function(e,t){e.currentUser=t.payload},signInFailure:function(e,t){e.error=t.payload}},extraReducers:function(e){e.addCase(B.fulfilled,(function(e,t){e.currentUser=t.payload,e.error=null})).addCase(B.rejected,(function(e,t){console.error(t.error),e.error=t.error,e.currentUser=null}))}}),V=L.actions,H=(V.setCurrentUser,V.signInFailure,V.signInSuccess,function(e){return e.user.currentUser}),J=L.reducer,M=function(e){var t=e.component,n=Object(G.a)(e,["component"]),r=Object(h.h)(),o=Object(f.c)(H);return console.log(I.currentUser),Object(a.jsx)(h.b,Object(b.a)(Object(b.a)({},n),{},{children:o?Object(a.jsx)(t,{}):Object(a.jsx)(h.a,{to:{pathname:"/",state:{from:r}}})}))};n(142);var K=function(){return Object(f.b)(),Object(r.useEffect)((function(){var e=I.onAuthStateChanged(function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return function(){e()}}),[]),Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)(h.d,{children:[Object(a.jsx)(M,{path:"/home",component:function(){return console.log("home"),Object(a.jsx)("p",{children:"hiiiiiiiiiii i"})}}),Object(a.jsx)(h.b,{path:"/",children:Object(a.jsx)(q,{})})]})})},X=n(17),Y=n(93),$=n.n(Y),Q=n(57),Z=Object(C.c)({name:"counter",initialState:{value:0},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}}}),ee=Z.actions,te=(ee.increment,ee.decrement,ee.incrementByAmount,Z.reducer),ne={key:"root",storage:$.a},ae=Object(X.c)({counter:te,user:J}),re=Object(Q.a)(ne,ae),oe=Object(C.a)({reducer:re,devTools:!1}),ce=n(46),ie=n(94),se=n(201),ue=n(202);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var le=n(58),he=n(95),fe=n.n(he)()({palette:{common:{black:"#000",white:"#fff"},background:{paper:"#fff",default:"#fafafa"},primary:{light:"#7986cb",main:"rgba(3, 54, 255, 1)",dark:"#303f9f",contrastText:"#fff"},secondary:{light:"rgba(194, 162, 59, 1)",main:"rgba(142, 115, 0, 1)",dark:"#c51162",contrastText:"#fff"},error:{light:"#e57373",main:"#f44336",dark:"#d32f2f",contrastText:"#fff"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"}},typography:{fontFamily:"'Work Sans', sans-serif",fontSize:14,fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:700}}),be={color:fe.palette.text.primary,fontWeight:fe.typography.fontWeightMedium,fontFamily:fe.typography.fontFamily,textTransform:"uppercase"},je=Object(b.a)(Object(b.a)({},fe),{},{palette:Object(b.a)(Object(b.a)({},fe.palette),{},{background:Object(b.a)(Object(b.a)({},fe.palette.background),{},{default:fe.palette.common.white,placeholder:le.a[200]})}),typography:Object(b.a)(Object(b.a)({},fe.typography),{},{fontHeader:be,h1:Object(b.a)(Object(b.a)(Object(b.a)({},fe.typography.h1),be),{},{letterSpacing:0,fontSize:60}),h2:Object(b.a)(Object(b.a)(Object(b.a)({},fe.typography.h2),be),{},{fontSize:48}),h3:Object(b.a)(Object(b.a)(Object(b.a)({},fe.typography.h3),be),{},{fontSize:42}),h4:Object(b.a)(Object(b.a)(Object(b.a)({},fe.typography.h4),be),{},{fontSize:36}),h5:Object(b.a)(Object(b.a)({},fe.typography.h5),{},{fontSize:20,fontWeight:fe.typography.fontWeightLight}),h6:Object(b.a)(Object(b.a)(Object(b.a)({},fe.typography.h6),be),{},{fontSize:18}),subtitle1:Object(b.a)(Object(b.a)({},fe.typography.subtitle1),{},{fontSize:18}),body1:Object(b.a)(Object(b.a)({},fe.typography.body2),{},{fontWeight:fe.typography.fontWeightRegular,fontSize:16}),body2:Object(b.a)(Object(b.a)({},fe.typography.body1),{},{fontSize:14})})}),de=Object(Q.b)(oe);i.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(f.a,{store:oe,children:Object(a.jsx)(ie.a,{loading:null,persistor:de,children:Object(a.jsx)(ce.a,{children:Object(a.jsxs)(se.a,{theme:je,children:[Object(a.jsx)(ue.a,{}),Object(a.jsx)(K,{})]})})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[164,1,2]]]);
//# sourceMappingURL=main.eda1bba6.chunk.js.map